{"openapi":"3.0.2","info":{"title":"TransMAP Hub API","description":"RESTful services that feed repository data to the TransMAP Hub Explorer","version":"0.3"},"paths":{"/ais/tracks":{"get":{"tags":["ais"],"summary":"Retrieve vessel tracklines from AIS archives","description":"Retrieve tracklines processed on-the-fly for vessel traffic\nwithin a given spatial and temporal resolution\n\nParameters\n----------\nrequest : Request\n    FastAPI Request with app data predefined\nstart_date : str, optional\n    The temporal start date in UTC, by default '2019-01-01T00:00:00'\nend_date : str, optional\n    The temporal end date in UTC, by default '2019-01-01T01:00:00'\nstart : int, optional\n    The starting value for the query in the db, by default 0\nlimit : int, optional\n    The stop value for the query in the db, by default 10000\nbbox: List, optional\n    A bounding box. An array of float values constructed in\n    these positions:\n    Example: [minx, miny, maxx, maxy]\n\nReturns\n-------\nList[Track]\n    A jsonified list of Track documents","operationId":"tracks_ais_tracks_get","parameters":[{"required":false,"schema":{"title":"Start date in ISO Format","type":"string","default":"2019-01-01T00:00:00"},"name":"start_date","in":"query"},{"required":false,"schema":{"title":"End date in ISO Format","type":"string","default":"2019-01-01T01:00:00"},"name":"end_date","in":"query"},{"description":"Useful for pagination","required":false,"schema":{"title":"Start results","type":"integer","description":"Useful for pagination","default":0},"name":"start","in":"query"},{"required":false,"schema":{"title":"Limit Results","type":"integer","default":10000},"name":"limit","in":"query"},{"description":"A list of float values for [mix, miny, maxx, maxy]","required":false,"schema":{"title":"Bounding Box","type":"array","items":{"type":"number"},"description":"A list of float values for [mix, miny, maxx, maxy]"},"name":"bbox","in":"query"}],"responses":{"200":{"description":"Track objects representing tracklines with vessel information","content":{"application/json":{"schema":{"title":"Response Tracks Ais Tracks Get","type":"array","items":{"$ref":"#/components/schemas/Track"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ais/vessels":{"get":{"tags":["ais"],"summary":"Retrieve vessels as points from AIS archive","description":"Collect AIS points from the archive\n\nParameters\n----------\nrequest : Request\n    FastAPI Request with app data predefined\nstart_date : str, optional\n    The temporal start date in UTC, by default '2019-01-01T00:00:00'\nend_date : str, optional\n    The temporal end date in UTC, by default '2019-01-01T01:00:00'\nstart : int, optional\n    The starting value for the query in the db, by default 0\nlimit : int, optional\n    The stop value for the query in the db, by default 10000\nbbox: List, optional\n    A bounding box. An array of float values constructed in\n    these positions:\n    Example: [minx, miny, maxx, maxy]\n\nReturns\n-------\nList[Ais]\n    A jsonified list of AIS documents","operationId":"vessels_ais_vessels_get","parameters":[{"required":false,"schema":{"title":"Start date in ISO Format","type":"string","default":"2019-01-01T00:00:00"},"name":"start_date","in":"query"},{"required":false,"schema":{"title":"End date in ISO Format","type":"string","default":"2019-01-01T01:00:00"},"name":"end_date","in":"query"},{"description":"Useful for pagination","required":false,"schema":{"title":"Start results","type":"integer","description":"Useful for pagination","default":0},"name":"start","in":"query"},{"required":false,"schema":{"title":"Limit Results. A value of -1 returns all results","type":"integer","default":10000},"name":"limit","in":"query"},{"description":"A list of float values for [mix, miny, maxx, maxy]","required":false,"schema":{"title":"Bounding Box","type":"array","items":{"type":"number"},"description":"A list of float values for [mix, miny, maxx, maxy]"},"name":"bbox","in":"query"}],"responses":{"200":{"description":"JSON feed of tracklines","content":{"application/json":{"schema":{"title":"Response Vessels Ais Vessels Get","type":"array","items":{"$ref":"#/components/schemas/Ais"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/online":{"get":{"tags":["service"],"summary":"Test API response","description":"Used for basic testing of data returns","operationId":"online_online_get","responses":{"200":{"description":"JSON dictionary to confirm online status","content":{"application/json":{"schema":{}}}}}}},"/locks/delays":{"get":{"tags":["locks"],"summary":"Collect Lock delays queried from LPMS service, stored currently in the TransMAP Hub archive","description":"Parameters\n----------\n```\nstart_date : str, optional\n    The temporal start date in UTC, by default '2019-01-01T00:00:00'\nend_date : str, optional\n    The temporal end date in UTC, by default '2019-01-01T01:00:00'\nstart : int, optional\n    The starting value for the query in the db, by default 0\nlimit : int, optional\n    The stop value for the query in the db, by default 10000\nbbox: List, optional\n    A bounding box. An array of float values constructed in\n    these positions:\n    Example: [minx, miny, maxx, maxy]\n```\n\nReturns\n-------\n```\nList[LockDelaySchema]\n    A jsonified list of Lock Delays documents\n```","operationId":"delays_locks_delays_get","parameters":[{"required":false,"schema":{"title":"Start date in ISO Format","type":"string","default":"2020-01-01"},"name":"start_date","in":"query"},{"required":false,"schema":{"title":"End date in ISO Format","type":"string","default":"2022-01-01"},"name":"end_date","in":"query"},{"description":"Useful for pagination","required":false,"schema":{"title":"Start results","type":"integer","description":"Useful for pagination","default":0},"name":"start","in":"query"},{"required":false,"schema":{"title":"Limit Results. A value of -1 returns all results","type":"integer","default":1000},"name":"limit","in":"query"},{"description":"A list of float values for [mix, miny, maxx, maxy]","required":false,"schema":{"title":"Bounding Box","type":"array","items":{"type":"number"},"description":"A list of float values for [mix, miny, maxx, maxy]"},"name":"bbox","in":"query"}],"responses":{"200":{"description":"JSON feed of Lock delays","content":{"application/json":{"schema":{"title":"Response Delays Locks Delays Get","type":"array","items":{"$ref":"#/components/schemas/LockDelaySchema.__pydantic_model__"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/locks/queue":{"get":{"tags":["locks"],"summary":"Collect Lock queue reports queried from LPMS service, stored currently in the TransMAP Hub archive","description":"Parameters\n----------\n```\nstart_date : str, optional\n    The temporal start date in UTC, by default '2019-01-01T00:00:00'\nend_date : str, optional\n    The temporal end date in UTC, by default '2019-01-01T01:00:00'\nstart : int, optional\n    The starting value for the query in the db, by default 0\nlimit : int, optional\n    The stop value for the query in the db, by default 10000\nbbox: List, optional\n    A bounding box. An array of float values constructed in\n    these positions:\n    Example: [minx, miny, maxx, maxy]\n```\n\nReturns\n-------\n```\nList[LockDelaySchema]\n    A jsonified list of Lock Delays documents\n```","operationId":"queue_locks_queue_get","parameters":[{"required":false,"schema":{"title":"Start date in ISO Format","type":"string","default":"2020-01-01"},"name":"start_date","in":"query"},{"required":false,"schema":{"title":"End date in ISO Format","type":"string","default":"2022-01-01"},"name":"end_date","in":"query"},{"description":"Useful for pagination","required":false,"schema":{"title":"Start results","type":"integer","description":"Useful for pagination","default":0},"name":"start","in":"query"},{"required":false,"schema":{"title":"Limit Results. A value of -1 returns all results","type":"integer","default":1000},"name":"limit","in":"query"},{"description":"A list of float values for [mix, miny, maxx, maxy]","required":false,"schema":{"title":"Bounding Box","type":"array","items":{"type":"number"},"description":"A list of float values for [mix, miny, maxx, maxy]"},"name":"bbox","in":"query"}],"responses":{"200":{"description":"JSON feed of Lock Queues","content":{"application/json":{"schema":{"title":"Response Queue Locks Queue Get","type":"array","items":{"$ref":"#/components/schemas/LockQueueSchema.__pydantic_model__"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/locks/tonnage":{"get":{"tags":["locks"],"summary":"Collect Lock Tonnage reports queried from LPMS service, stored currently in the TransMAP Hub archive","description":"Parameters\n----------\n```\nstart_date : str, optional\n    The temporal start date in UTC, by default '2019-01-01T00:00:00'\nend_date : str, optional\n    The temporal end date in UTC, by default '2019-01-01T01:00:00'\nstart : int, optional\n    The starting value for the query in the db, by default 0\nlimit : int, optional\n    The stop value for the query in the db, by default 10000\nbbox: List, optional\n    A bounding box. An array of float values constructed in\n    these positions:\n    Example: [minx, miny, maxx, maxy]\n```\n\nReturns\n-------\n```\nList[LockDelaySchema]\n    A jsonified list of Lock Delays documents\n```","operationId":"tonnage_locks_tonnage_get","parameters":[{"required":false,"schema":{"title":"Start date in ISO Format","type":"string","default":"2020-01-01"},"name":"start_date","in":"query"},{"required":false,"schema":{"title":"End date in ISO Format","type":"string","default":"2022-01-01"},"name":"end_date","in":"query"},{"description":"Useful for pagination","required":false,"schema":{"title":"Start results","type":"integer","description":"Useful for pagination","default":0},"name":"start","in":"query"},{"required":false,"schema":{"title":"Limit Results. A value of -1 returns all results","type":"integer","default":1000},"name":"limit","in":"query"},{"description":"A list of float values for [mix, miny, maxx, maxy]","required":false,"schema":{"title":"Bounding Box","type":"array","items":{"type":"number"},"description":"A list of float values for [mix, miny, maxx, maxy]"},"name":"bbox","in":"query"}],"responses":{"200":{"description":"JSON feed of Lock Tonnage","content":{"application/json":{"schema":{"title":"Response Tonnage Locks Tonnage Get","type":"array","items":{"$ref":"#/components/schemas/LockTonnage.__pydantic_model__"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/locks/traffic":{"get":{"tags":["locks"],"summary":"Collect Lock traffic reports queried from LPMS service, stored currently in the TransMAP Hub archive","description":"Parameters\n----------\n```\nstart_date : str, optional\n    The temporal start date in UTC, by default '2019-01-01T00:00:00'\nend_date : str, optional\n    The temporal end date in UTC, by default '2019-01-01T01:00:00'\nstart : int, optional\n    The starting value for the query in the db, by default 0\nlimit : int, optional\n    The stop value for the query in the db, by default 10000\nbbox: List, optional\n    A bounding box. An array of float values constructed in\n    these positions:\n    Example: [minx, miny, maxx, maxy]\n```\n\nReturns\n-------\n```\nList[LockTrafficODM]\n    A jsonified list of Lock Traffic documents\n```","operationId":"traffic_locks_traffic_get","parameters":[{"required":false,"schema":{"title":"Start date in ISO Format","type":"string","default":"2020-01-01"},"name":"start_date","in":"query"},{"required":false,"schema":{"title":"End date in ISO Format","type":"string","default":"2022-01-01"},"name":"end_date","in":"query"},{"description":"Useful for pagination","required":false,"schema":{"title":"Start results","type":"integer","description":"Useful for pagination","default":0},"name":"start","in":"query"},{"required":false,"schema":{"title":"Limit Results. A value of -1 returns all results","type":"integer","default":1000},"name":"limit","in":"query"},{"description":"A list of float values for [mix, miny, maxx, maxy]","required":false,"schema":{"title":"Bounding Box","type":"array","items":{"type":"number"},"description":"A list of float values for [mix, miny, maxx, maxy]"},"name":"bbox","in":"query"}],"responses":{"200":{"description":"JSON feed of Lock Traffic","content":{"application/json":{"schema":{"title":"Response Traffic Locks Traffic Get","type":"array","items":{"$ref":"#/components/schemas/LockTrafficODM.__pydantic_model__"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/locks/stoppages":{"get":{"tags":["locks"],"summary":"Collect Lock Stoppages reports queried from LPMS service, stored currently in the TransMAP Hub archive","description":"Parameters\n----------\n```\nstart_date : str, optional\n    The temporal start date in UTC, by default '2019-01-01T00:00:00'\nend_date : str, optional\n    The temporal end date in UTC, by default '2019-01-01T01:00:00'\nstart : int, optional\n    The starting value for the query in the db, by default 0\nlimit : int, optional\n    The stop value for the query in the db, by default 10000\nbbox: List, optional\n    A bounding box. An array of float values constructed in\n    these positions:\n    Example: [minx, miny, maxx, maxy]\n```\n\nReturns\n-------\n```\nList[LockStoppagesSchema]\n    A jsonified list of Lock Stoppages documents\n```","operationId":"stoppages_locks_stoppages_get","parameters":[{"required":false,"schema":{"title":"Start date in ISO Format","type":"string","default":"2020-01-01"},"name":"start_date","in":"query"},{"required":false,"schema":{"title":"End date in ISO Format","type":"string","default":"2022-01-01"},"name":"end_date","in":"query"},{"description":"Useful for pagination","required":false,"schema":{"title":"Start results","type":"integer","description":"Useful for pagination","default":0},"name":"start","in":"query"},{"required":false,"schema":{"title":"Limit Results. A value of -1 returns all results","type":"integer","default":1000},"name":"limit","in":"query"},{"description":"A list of float values for [mix, miny, maxx, maxy]","required":false,"schema":{"title":"Bounding Box","type":"array","items":{"type":"number"},"description":"A list of float values for [mix, miny, maxx, maxy]"},"name":"bbox","in":"query"}],"responses":{"200":{"description":"JSON feed of Lock Stoppages","content":{"application/json":{"schema":{"title":"Response Stoppages Locks Stoppages Get","type":"array","items":{"$ref":"#/components/schemas/LockStoppagesSchema.__pydantic_model__"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Ais":{"title":"Ais","required":["MMSI","BaseDateTime","LAT","LON","SOG","COG","Heading","VesselName","IMO","CallSign","VesselType","Status","Length","Width","Draft","Cargo","TranscieverClass","location"],"type":"object","properties":{"MMSI":{"title":"Mmsi","type":"integer"},"BaseDateTime":{"title":"Basedatetime","type":"string","format":"date-time"},"LAT":{"title":"Lat","type":"number"},"LON":{"title":"Lon","type":"number"},"SOG":{"title":"Sog","type":"number"},"COG":{"title":"Cog","type":"number"},"Heading":{"title":"Heading","type":"number"},"VesselName":{"title":"Vesselname","type":"string"},"IMO":{"title":"Imo","type":"string"},"CallSign":{"title":"Callsign","type":"string"},"VesselType":{"title":"Vesseltype","type":"string"},"Status":{"title":"Status","type":"string"},"Length":{"title":"Length","type":"string"},"Width":{"title":"Width","type":"string"},"Draft":{"title":"Draft","type":"string"},"Cargo":{"title":"Cargo","type":"string"},"TranscieverClass":{"title":"Transcieverclass","type":"string"},"location":{"title":"Location","type":"array","items":{}}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"LockDelaySchema.__pydantic_model__":{"title":"LockDelaySchema","required":["eroc","riverCode","lockNumber","created_at"],"type":"object","properties":{"eroc":{"title":"Eroc","type":"string"},"riverCode":{"title":"Rivercode","type":"string"},"lockNumber":{"title":"Locknumber","type":"string"},"fourHourAverageDelayInMinutes":{"title":"Fourhouraveragedelayinminutes","type":"integer"},"created_at":{"title":"Created At","type":"string","format":"date-time","example":"2021-05-04T19:30:35.260663"},"id":{"title":"Id","type":"string","example":"5f85f36d6dfecacc68428a46"}}},"LockQueueSchema.__pydantic_model__":{"title":"LockQueueSchema","required":["river_code","lock_number","ARRIVAL_DATE"],"type":"object","properties":{"river_code":{"title":"River Code","type":"string"},"lock_number":{"title":"Lock Number","type":"integer"},"ARRIVAL_DATE":{"title":"Arrival Date","type":"string","format":"date-time","example":"2021-05-04T19:30:35.257675"},"MMSI":{"title":"Mmsi","type":"string"},"SOL_DATE":{"title":"Sol Date","type":"string","format":"date-time","example":"2021-05-04T19:30:35.257788"},"VESSEL_NAME":{"title":"Vessel Name","type":"string"},"VESSEL_NO":{"title":"Vessel No","type":"string"},"DIRECTION":{"title":"Direction","type":"string"},"NUM_BARGES":{"title":"Num Barges","type":"string"},"END_OF_LOCKAGE":{"title":"End Of Lockage","type":"string","format":"date-time","example":"2021-05-04T19:30:35.258024"},"TIMEZONE":{"title":"Timezone","type":"string"},"id":{"title":"Id","type":"string","example":"5f85f36d6dfecacc68428a46"}}},"LockStoppagesSchema.__pydantic_model__":{"title":"LockStoppagesSchema","required":["erocCode","riverCode","lockNumber","chamberNumber","beginStopDate","endStopDate","isScheduled","reasonCode","year","refreshDate","isTrafficStopped"],"type":"object","properties":{"erocCode":{"title":"Eroccode","type":"string"},"riverCode":{"title":"Rivercode","type":"string"},"lockNumber":{"title":"Locknumber","type":"string"},"chamberNumber":{"title":"Chambernumber","type":"integer"},"beginStopDate":{"title":"Beginstopdate","type":"string","format":"date-time","example":"2021-05-04T19:30:35.259961"},"endStopDate":{"title":"Endstopdate","type":"string","format":"date-time","example":"2021-05-04T19:30:35.260013"},"isScheduled":{"title":"Isscheduled","type":"string"},"reasonCode":{"title":"Reasoncode","type":"string"},"year":{"title":"Year","type":"integer"},"refreshDate":{"title":"Refreshdate","type":"string","format":"date-time","example":"2021-05-04T19:30:35.260203"},"isTrafficStopped":{"title":"Istrafficstopped","type":"string"},"numHwCycles":{"title":"Numhwcycles","type":"string"},"id":{"title":"Id","type":"string","example":"5f85f36d6dfecacc68428a46"}}},"LockTonnage.__pydantic_model__":{"title":"LockTonnage","required":["river_code","lock_number","month","year","date","COMM_CODE","COMM_DESC","TOTAL_TONS"],"type":"object","properties":{"river_code":{"title":"River Code","type":"string"},"lock_number":{"title":"Lock Number","type":"string"},"month":{"title":"Month","type":"string"},"year":{"title":"Year","type":"string"},"date":{"title":"Date","type":"string","format":"date-time","example":"2021-05-04T19:30:35.258506"},"COMM_CODE":{"title":"Comm Code","type":"integer"},"COMM_DESC":{"title":"Comm Desc","type":"string"},"TOTAL_TONS":{"title":"Total Tons","type":"number"},"DOWNBOUND_TONS":{"title":"Downbound Tons","type":"number"},"UPBOUND_TONS":{"title":"Upbound Tons","type":"number"},"id":{"title":"Id","type":"string","example":"5f85f36d6dfecacc68428a46"}}},"LockTrafficODM.__pydantic_model__":{"title":"LockTrafficODM","required":["river_code","lock_number","EROC","RIVER_CODE","RIVER_NAME","LOCK_NO","LOCK_NAME","DIRECTION","VESSEL_NO","VESSEL_NAME","ARRIVAL_DATE","SOL_DATE","END_OF_LOCKAGE","TIMEZONE"],"type":"object","properties":{"river_code":{"title":"River Code","type":"string"},"lock_number":{"title":"Lock Number","type":"string"},"EROC":{"title":"Eroc","type":"string"},"RIVER_CODE":{"title":"River Code","type":"string"},"RIVER_NAME":{"title":"River Name","type":"string"},"LOCK_NO":{"title":"Lock No","type":"string"},"LOCK_NAME":{"title":"Lock Name","type":"string"},"DIRECTION":{"title":"Direction","type":"string"},"VESSEL_NO":{"title":"Vessel No","type":"string"},"VESSEL_NAME":{"title":"Vessel Name","type":"string"},"HAZARD_CODE":{"title":"Hazard Code","type":"string"},"NUM_BARGES":{"title":"Num Barges","type":"integer"},"NUMBER_PROCESSED":{"title":"Number Processed","type":"integer"},"ARRIVAL_DATE":{"title":"Arrival Date","type":"string","format":"date-time","example":"2021-05-04T19:30:35.261427"},"SOL_DATE":{"title":"Sol Date","type":"string","format":"date-time","example":"2021-05-04T19:30:35.261479"},"END_OF_LOCKAGE":{"title":"End Of Lockage","type":"string","format":"date-time","example":"2021-05-04T19:30:35.261530"},"TIMEZONE":{"title":"Timezone","type":"string"},"id":{"title":"Id","type":"string","example":"5f85f36d6dfecacc68428a46"}}},"Track":{"title":"Track","required":["coordinates","MMSI","TrackStartTime","TrackEndTime","Distance","Speed","vessel"],"type":"object","properties":{"coordinates":{"title":"Coordinates","type":"array","items":{}},"MMSI":{"title":"Mmsi","type":"string"},"TrackStartTime":{"title":"Trackstarttime","type":"string","format":"date-time"},"TrackEndTime":{"title":"Trackendtime","type":"string","format":"date-time"},"Distance":{"title":"Distance","type":"number"},"Speed":{"title":"Speed","type":"number"},"vessel":{"$ref":"#/components/schemas/Ais"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"type":"string"}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}}}}